<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#nav{
				width: 100%;
				height: 50px;
				background-color: antiquewhite;
				position: relative;
			}
			span{
				display: inline-block;
				width: 100px;
				text-align: center;
				margin-left: 100px;
			}
			.line{
				width: 100px;
				height: 5px;
				background-color: #FF0000;
				position: absolute;
				left: 100px;
				top: 45px; 
				display: none;
			}
		</style>
	</head>
	<body>
		<div id="nav">
			<span>111</span>
			<span>222</span>
			<span>333</span>
			
			<div class="line"></div>
		</div>
	</body>
	<script type="text/javascript">
		var spanArray = document.getElementsByTagName('span');
		var line = document.getElementsByClassName('line')[0];
		
		for(var i = 0;i < spanArray.length;i++){
			(function(i){
				spanArray[i].onmouseenter = function(){
					lineMove(i);
				}
			})(i);
		}
		var lineArray = [100,300,500];
		// 线移动的函数
		function lineMove(i){
			//获取当前位置
			var start = line.offsetLeft;
			// 使用定时器写js动画
			var timer = setInterval(function(){
				if(start > lineArray[i]){
					start-=10;
				}else if(start < lineArray[i]){
					start+=10;
				}else{
					clearInterval(timer);
					line.style.display = 'block';
				}
				
				line.style.left = start + 'px';
			},1);
		}
		
		document.getElementById('nav').onmouseleave = function(){
			line.style.display = 'none';
		}
	</script>
</html>
